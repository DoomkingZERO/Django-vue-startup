{% extends 'BasicApp/base.html' %}
{% block title %} Home {% endblock title %}
{% block content %}
    <h1 style="margin-top: 3px;">Home Page</h1>
    <div id="status">Connecting...</div>

    <script>
        // Function to display status message
        function setStatus(status) {
            document.getElementById('status').textContent = status;
        }

        // WebSocket connection
        const socket = new WebSocket('ws://localhost:8000/ws/page_tracking/');

        // Event listeners
        socket.onopen = function(event) {
            setStatus('Connected');
        };

        socket.onmessage = function(event) {
            console.log('Message from server:', event.data);
            // Handle messages from the server if needed
        };

        socket.onerror = function(error) {
            console.error('WebSocket error:', error);
            setStatus('Error');
        };

        socket.onclose = function(event) {
            setStatus('Disconnected');
        };
    </script>
{% endblock content %}
